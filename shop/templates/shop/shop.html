{% extends 'base.html' %}
{% load static %}

{% block page_header %}
<div class="container header-container"></div>
{% endblock %}

{% block content %}

<div class="overlay"></div>
<div class="container-fluid h-100 ">
    <div class="row">
        <div class="col bg-blush">            
            <div class="row my-4 text-center">
                <h2 class="mb-0 text-grey">Shop Yoga Gear</h2>             
            </div>            
        </div>
    </div>
    <div class="row">
        <div class="row">
            <div class="col my-3 py-3">
                <form method="GET" action="{% url 'shop' %}">
                    <div class="text-center w-100">
                        <input class="btn btn-outline-pink" type="text" name="q" placeholder="Search Shop">
                        <button class="btn" type="submit">
                            <span class="text-start">
                                <i class="fas fa-search text-pink"></i>
                            </span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
        {% for product in shop_products %}   
        <div class="col d-flex justify-content-center mx-auto ">
            <div class="card p-3 m-3 text-center h-100 border-0" style="width: 18rem;">
                <a href="{% url 'product_info' product.id %}">
                    <img src="{{ MEDIA_URL }}{{ product.image }}" class="card-img-top" alt="image of the shop product{{ product.name }}">
                </a>
                <div class="card-body">
                  <h4 class="card-title text-pink fw-bold">{{ product.name|title }}</h4>
                  <p class="card-text text-muted my-0">â‚¬ {{ product.price }}</p>
                  <p class="card-text mt-1">{{ product.description }}</p>
                </div>
                {% if request.user.is_superuser %}
                    <div class="col pb-2 pink-under">
                        <a href="{% url 'edit_product' product.id %}" class="btn btn-sm btn-teal">
                            Edit
                        </a>
                        <a href="{% url 'delete_product' product.id %}" class="btn btn-sm btn-teal">
                            Delete
                        </a>
                    </div>
                {% endif%}
            </div>
        </div>
        {% endfor %}
    </div>
</div>

{% endblock %}